<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DungeonCrawl: src/logging/logger.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DungeonCrawl
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('logger_8h.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">logger.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Header file for logging functionality of the game.  
<a href="#details">More...</a></p>

<p><a href="logger_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-define-members" class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a6f88fc964660bd666be2ccd3e22b373e" id="r_a6f88fc964660bd666be2ccd3e22b373e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6f88fc964660bd666be2ccd3e22b373e">DEBUG_STATE</a>&#160;&#160;&#160;1</td></tr>
<tr class="memitem:a557e5b28168e4dbe28adde2e0ac1fc0a" id="r_a557e5b28168e4dbe28adde2e0ac1fc0a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a557e5b28168e4dbe28adde2e0ac1fc0a">DEBUG_LOG</a>(modul,  format, ...)</td></tr>
<tr class="memitem:a728e12a832014a011503585b706b9f2d" id="r_a728e12a832014a011503585b706b9f2d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a728e12a832014a011503585b706b9f2d">RETURN_WHEN_NULL</a>(ptr,  ret,  modul,  format, ...)</td></tr>
<tr class="memitem:ac70aabd12c1a5a9c502e4b62a13d87ab" id="r_ac70aabd12c1a5a9c502e4b62a13d87ab"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac70aabd12c1a5a9c502e4b62a13d87ab">RETURN_WHEN_TRUE</a>(expr,  ret,  modul,  format, ...)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-enum-members" class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a98121d38a8cf3daf5246a349f912ca1d" id="r_a98121d38a8cf3daf5246a349f912ca1d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>log_level_t</b> { <br />
&#160;&#160;<b>DEBUG</b>
, <b>FINE</b>
, <b>INFO</b>
, <b>WARNING</b>
, <br />
&#160;&#160;<b>ERROR</b>
, <b>MAX_LOG_LEVEL</b>
<br />
 }</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a542d97fece81d2a06b1e1ddf3d461c8a" id="r_a542d97fece81d2a06b1e1ddf3d461c8a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a542d97fece81d2a06b1e1ddf3d461c8a">init_logger</a> (void)</td></tr>
<tr class="memdesc:a542d97fece81d2a06b1e1ddf3d461c8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the logging system for the application.  <br /></td></tr>
<tr class="memitem:a15a9f05fbdf8481839ab4755df4b7370" id="r_a15a9f05fbdf8481839ab4755df4b7370"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a15a9f05fbdf8481839ab4755df4b7370">log_msg</a> (log_level_t level, const char *module, const char *format,...)</td></tr>
<tr class="memdesc:a15a9f05fbdf8481839ab4755df4b7370"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs a formatted message with a specified log level and module.  <br /></td></tr>
<tr class="memitem:a1d815b48f04fdfadbb66a1a6bebbe721" id="r_a1d815b48f04fdfadbb66a1a6bebbe721"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1d815b48f04fdfadbb66a1a6bebbe721">shutdown_logger</a> (void)</td></tr>
<tr class="memdesc:a1d815b48f04fdfadbb66a1a6bebbe721"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shuts down the logging system for the application.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header file for logging functionality of the game. </p>

<p class="definition">Definition in file <a class="el" href="logger_8h_source.html">logger.h</a>.</p>
</div><a name="doc-define-members" id="doc-define-members"></a><h2 id="header-doc-define-members" class="groupheader">Macro Definition Documentation</h2>
<a id="a557e5b28168e4dbe28adde2e0ac1fc0a" name="a557e5b28168e4dbe28adde2e0ac1fc0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a557e5b28168e4dbe28adde2e0ac1fc0a">&#9670;&#160;</a></span>DEBUG_LOG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_LOG</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>modul</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>format</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em></em></span>...&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">if</span> (DEBUG_STATE == 1) {                           \</div>
<div class="line">        log_msg(DEBUG, modul, format, ##__VA_ARGS__); \</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="logger_8h_source.html#l00011">11</a> of file <a class="el" href="logger_8h_source.html">logger.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   11</span><span class="preprocessor">#define DEBUG_LOG(modul, format, ...)                 \</span></div>
<div class="line"><span class="lineno">   12</span><span class="preprocessor">    if (DEBUG_STATE == 1) {                           \</span></div>
<div class="line"><span class="lineno">   13</span><span class="preprocessor">        log_msg(DEBUG, modul, format, ##__VA_ARGS__); \</span></div>
<div class="line"><span class="lineno">   14</span><span class="preprocessor">    }</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6f88fc964660bd666be2ccd3e22b373e" name="a6f88fc964660bd666be2ccd3e22b373e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f88fc964660bd666be2ccd3e22b373e">&#9670;&#160;</a></span>DEBUG_STATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_STATE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="logger_8h_source.html#l00009">9</a> of file <a class="el" href="logger_8h_source.html">logger.h</a>.</p>

</div>
</div>
<a id="a728e12a832014a011503585b706b9f2d" name="a728e12a832014a011503585b706b9f2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a728e12a832014a011503585b706b9f2d">&#9670;&#160;</a></span>RETURN_WHEN_NULL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RETURN_WHEN_NULL</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>ptr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>ret</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>modul</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>format</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em></em></span>...&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">if</span> (ptr == NULL) {                                 \</div>
<div class="line">        log_msg(ERROR, modul, format, ##__VA_ARGS__);  \</div>
<div class="line">        <span class="keywordflow">return</span> ret;                                    \</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="logger_8h_source.html#l00016">16</a> of file <a class="el" href="logger_8h_source.html">logger.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   16</span><span class="preprocessor">#define RETURN_WHEN_NULL(ptr, ret, modul, format, ...) \</span></div>
<div class="line"><span class="lineno">   17</span><span class="preprocessor">    if (ptr == NULL) {                                 \</span></div>
<div class="line"><span class="lineno">   18</span><span class="preprocessor">        log_msg(ERROR, modul, format, ##__VA_ARGS__);  \</span></div>
<div class="line"><span class="lineno">   19</span><span class="preprocessor">        return ret;                                    \</span></div>
<div class="line"><span class="lineno">   20</span><span class="preprocessor">    }</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac70aabd12c1a5a9c502e4b62a13d87ab" name="ac70aabd12c1a5a9c502e4b62a13d87ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac70aabd12c1a5a9c502e4b62a13d87ab">&#9670;&#160;</a></span>RETURN_WHEN_TRUE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RETURN_WHEN_TRUE</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>expr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>ret</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>modul</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>format</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em></em></span>...&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">if</span> (expr) {                                         \</div>
<div class="line">        log_msg(ERROR, modul, format, ##__VA_ARGS__);   \</div>
<div class="line">        <span class="keywordflow">return</span> ret;                                     \</div>
<div class="line">    }</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="logger_8h_source.html#l00022">22</a> of file <a class="el" href="logger_8h_source.html">logger.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   22</span><span class="preprocessor">#define RETURN_WHEN_TRUE(expr, ret, modul, format, ...) \</span></div>
<div class="line"><span class="lineno">   23</span><span class="preprocessor">    if (expr) {                                         \</span></div>
<div class="line"><span class="lineno">   24</span><span class="preprocessor">        log_msg(ERROR, modul, format, ##__VA_ARGS__);   \</span></div>
<div class="line"><span class="lineno">   25</span><span class="preprocessor">        return ret;                                     \</span></div>
<div class="line"><span class="lineno">   26</span><span class="preprocessor">    }</span></div>
</div><!-- fragment -->
</div>
</div>
<a name="doc-enum-members" id="doc-enum-members"></a><h2 id="header-doc-enum-members" class="groupheader">Enumeration Type Documentation</h2>
<a id="a98121d38a8cf3daf5246a349f912ca1d" name="a98121d38a8cf3daf5246a349f912ca1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98121d38a8cf3daf5246a349f912ca1d">&#9670;&#160;</a></span>log_level_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum log_level_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="logger_8h_source.html#l00028">28</a> of file <a class="el" href="logger_8h_source.html">logger.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   28</span>             {</div>
<div class="line"><span class="lineno">   29</span>    DEBUG,</div>
<div class="line"><span class="lineno">   30</span>    FINE,</div>
<div class="line"><span class="lineno">   31</span>    INFO,</div>
<div class="line"><span class="lineno">   32</span>    WARNING,</div>
<div class="line"><span class="lineno">   33</span>    ERROR,</div>
<div class="line"><span class="lineno">   34</span>    MAX_LOG_LEVEL</div>
<div class="line"><span class="lineno">   35</span>} log_level_t;</div>
</div><!-- fragment -->
</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="a542d97fece81d2a06b1e1ddf3d461c8a" name="a542d97fece81d2a06b1e1ddf3d461c8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a542d97fece81d2a06b1e1ddf3d461c8a">&#9670;&#160;</a></span>init_logger()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_logger </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the logging system for the application. </p>
<p>This function sets up the logging system to be ready for recording log entries. It creates or opens the log file, initializes the ring buffer used for storing log entries temporarily, and starts the thread that asynchronously writes logs to the file. This ensures logging is operational and ready to use for the application's lifetime.</p>
<p>Notes:</p><ul>
<li>This function can only be called once during the application's lifecycle. Subsequent calls will have no effect if the logger is already initialized.</li>
<li>All required resources for logging, such as the log file and ring buffer, are prepared within this initialization process.</li>
<li>If any of the initialization steps fail (e.g., ring buffer initialization or file operations), the function ensures cleanup of allocated resources. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="logger_8c_source.html#l00232">232</a> of file <a class="el" href="logger_8c_source.html">logger.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  232</span>                       {</div>
<div class="line"><span class="lineno">  233</span>    <span class="comment">// ensures the init_logger can only be called when the file is null</span></div>
<div class="line"><span class="lineno">  234</span>    <span class="keywordflow">if</span> (log_file == NULL) {</div>
<div class="line"><span class="lineno">  235</span>        <span class="keywordflow">if</span> (init_ringbuffer(&amp;log_buffer) == 0) {</div>
<div class="line"><span class="lineno">  236</span>            file_id = <a class="code hl_function" href="logger_8c.html#a4026eeab5ad9c9a701338f7f873ed33d">get_latest_file_id</a>();</div>
<div class="line"><span class="lineno">  237</span>            <span class="keywordflow">if</span> (file_id == -1 || <a class="code hl_function" href="logger_8c.html#a1c7d106319f285b516ab672dbdb42f89">open_log_file</a>(0) != 0) {</div>
<div class="line"><span class="lineno">  238</span>                fclose(log_file);</div>
<div class="line"><span class="lineno">  239</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  240</span>                <a class="code hl_function" href="logger_8c.html#a564a76b9f2eaa839be733afb99ffb45d">start_log_writer_thread</a>();</div>
<div class="line"><span class="lineno">  241</span>            }</div>
<div class="line"><span class="lineno">  242</span>        }</div>
<div class="line"><span class="lineno">  243</span>    }</div>
<div class="line"><span class="lineno">  244</span>}</div>
<div class="ttc" id="alogger_8c_html_a1c7d106319f285b516ab672dbdb42f89"><div class="ttname"><a href="logger_8c.html#a1c7d106319f285b516ab672dbdb42f89">open_log_file</a></div><div class="ttdeci">int open_log_file(int is_init)</div><div class="ttdoc">Opens the log file with the current saved file id in appended modus.</div><div class="ttdef"><b>Definition</b> <a href="logger_8c_source.html#l00117">logger.c:117</a></div></div>
<div class="ttc" id="alogger_8c_html_a4026eeab5ad9c9a701338f7f873ed33d"><div class="ttname"><a href="logger_8c.html#a4026eeab5ad9c9a701338f7f873ed33d">get_latest_file_id</a></div><div class="ttdeci">int get_latest_file_id(void)</div><div class="ttdoc">This function gets the latest file id from the log directory.</div><div class="ttdef"><b>Definition</b> <a href="logger_8c_source.html#l00162">logger.c:162</a></div></div>
<div class="ttc" id="alogger_8c_html_a564a76b9f2eaa839be733afb99ffb45d"><div class="ttname"><a href="logger_8c.html#a564a76b9f2eaa839be733afb99ffb45d">start_log_writer_thread</a></div><div class="ttdeci">void start_log_writer_thread(void)</div><div class="ttdoc">Starts the log writer thread.</div><div class="ttdef"><b>Definition</b> <a href="logger_8c_source.html#l00201">logger.c:201</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a15a9f05fbdf8481839ab4755df4b7370" name="a15a9f05fbdf8481839ab4755df4b7370"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15a9f05fbdf8481839ab4755df4b7370">&#9670;&#160;</a></span>log_msg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_msg </td>
          <td>(</td>
          <td class="paramtype">log_level_t</td>          <td class="paramname"><span class="paramname"><em>level</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>module</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>format</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>...</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Logs a formatted message with a specified log level and module. </p>
<p>This function generates a log entry that includes a timestamp, log level, module name, and a custom message formatted using a variable argument list. The log message is written to a ring buffer for asynchronous processing.</p>
<p>Notes:</p><ul>
<li>The logging system must be initialized and running before using this function. Otherwise, the function will return without performing any operations.</li>
<li>The log level determines the severity or importance of the message.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>The severity level of the log message (e.g., DEBUG, INFO, ERROR). If the provided log level exceeds the maximum defined levels, the INFO level will be used as a fallback. </td></tr>
    <tr><td class="paramname">module</td><td>A string identifying the module or component generating the log message. </td></tr>
    <tr><td class="paramname">format</td><td>A printf-style format string for the message content. </td></tr>
    <tr><td class="paramname">...</td><td>Additional arguments to be formatted into the log message according to the format string. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="logger_8c_source.html#l00246">246</a> of file <a class="el" href="logger_8c_source.html">logger.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  246</span>                                                                                   {</div>
<div class="line"><span class="lineno">  247</span>    <span class="keywordflow">if</span> (log_file == NULL || !logger_is_running) {</div>
<div class="line"><span class="lineno">  248</span>        <span class="comment">// logger is not initialized or not running</span></div>
<div class="line"><span class="lineno">  249</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  250</span>    }</div>
<div class="line"><span class="lineno">  251</span> </div>
<div class="line"><span class="lineno">  252</span>    <span class="comment">//get timestamp</span></div>
<div class="line"><span class="lineno">  253</span>    <span class="keyword">const</span> time_t now = time(NULL);</div>
<div class="line"><span class="lineno">  254</span>    <span class="keyword">const</span> <span class="keyword">struct </span>tm* tm = localtime(&amp;now);</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>    <span class="keywordtype">char</span> timestamp[32];</div>
<div class="line"><span class="lineno">  257</span>    strftime(timestamp, <span class="keyword">sizeof</span>(timestamp), TIMESTAMP_FORMAT, tm);</div>
<div class="line"><span class="lineno">  258</span> </div>
<div class="line"><span class="lineno">  259</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* log_level;</div>
<div class="line"><span class="lineno">  260</span>    <span class="keywordflow">if</span> (level &gt;= MAX_LOG_LEVEL) {</div>
<div class="line"><span class="lineno">  261</span>        log_level = log_level_str[INFO];</div>
<div class="line"><span class="lineno">  262</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  263</span>        log_level = log_level_str[level];</div>
<div class="line"><span class="lineno">  264</span>    }</div>
<div class="line"><span class="lineno">  265</span> </div>
<div class="line"><span class="lineno">  266</span>    va_list args;</div>
<div class="line"><span class="lineno">  267</span>    va_start(args, format);</div>
<div class="line"><span class="lineno">  268</span>    <span class="keywordtype">char</span> msg[MAX_MSG_SIZE - MAX_HEADER_SIZE];</div>
<div class="line"><span class="lineno">  269</span>    vsnprintf(msg, <span class="keyword">sizeof</span>(msg), format, args);</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>    <span class="keywordtype">char</span> <a class="code hl_function" href="logger_8c.html#aa70df4f70b7969a40b70fda659005550">log_msg</a>[MAX_MSG_SIZE];</div>
<div class="line"><span class="lineno">  272</span>    snprintf(<a class="code hl_function" href="logger_8c.html#aa70df4f70b7969a40b70fda659005550">log_msg</a>, MAX_MSG_SIZE, MSG_FORMAT, timestamp, log_level, module, msg);</div>
<div class="line"><span class="lineno">  273</span>    va_end(args);</div>
<div class="line"><span class="lineno">  274</span> </div>
<div class="line"><span class="lineno">  275</span>    write_to_ringbuffer(&amp;log_buffer, <a class="code hl_function" href="logger_8c.html#aa70df4f70b7969a40b70fda659005550">log_msg</a>);</div>
<div class="line"><span class="lineno">  276</span>}</div>
<div class="ttc" id="alogger_8c_html_aa70df4f70b7969a40b70fda659005550"><div class="ttname"><a href="logger_8c.html#aa70df4f70b7969a40b70fda659005550">log_msg</a></div><div class="ttdeci">void log_msg(const log_level_t level, const char *module, const char *format,...)</div><div class="ttdoc">Logs a formatted message with a specified log level and module.</div><div class="ttdef"><b>Definition</b> <a href="logger_8c_source.html#l00246">logger.c:246</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1d815b48f04fdfadbb66a1a6bebbe721" name="a1d815b48f04fdfadbb66a1a6bebbe721"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d815b48f04fdfadbb66a1a6bebbe721">&#9670;&#160;</a></span>shutdown_logger()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void shutdown_logger </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shuts down the logging system for the application. </p>
<p>This function terminates the logging system, ensuring that no further log entries are recorded. It sets the logger's running state to false, effectively disabling any ongoing or future logging operations.</p>
<p>Use this function to cleanly release logging resources and mark the completion of logging operations at the end of the application's lifecycle or during application shutdown sequences.</p>
<p>Notes:</p><ul>
<li>Once this function is called, logging within the application will cease to function.</li>
<li>This function should be called after all dependent systems and processes using the logger are finalized. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="logger_8c_source.html#l00278">278</a> of file <a class="el" href="logger_8c_source.html">logger.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  278</span>                           {</div>
<div class="line"><span class="lineno">  279</span>    logger_is_running = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  280</span>}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a href="dir_b3320b59a4aa4a7431bc8488b87009bf.html">logging</a></li><li class="navelem"><a href="logger_8h.html">logger.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
