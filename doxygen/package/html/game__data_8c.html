<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DungeonCrawl: src/game_data.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DungeonCrawl
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('game__data_8c.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">game_data.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implementation for game_data.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="game__data_8h_source.html">game_data.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="monster_8h_source.html">character/monster.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="player_8h_source.html">character/player.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="common_8h_source.html">common.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="game_8h_source.html">game.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="loot__generation_8h_source.html">item/loot_generation.h</a>&quot;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
</div>
<p><a href="game__data_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acf51ee7fcee6655d62576a4c3338122c" id="r_acf51ee7fcee6655d62576a4c3338122c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acf51ee7fcee6655d62576a4c3338122c">init_game_data</a> ()</td></tr>
<tr class="memdesc:acf51ee7fcee6655d62576a4c3338122c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes game data for the application.  <br /></td></tr>
<tr class="memitem:ab2169a70baa362c11da5df787aa51e60" id="r_ab2169a70baa362c11da5df787aa51e60"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab2169a70baa362c11da5df787aa51e60">free_game_data</a> ()</td></tr>
<tr class="memdesc:ab2169a70baa362c11da5df787aa51e60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees game-related data structures and resources, such as ability tables, characters, and potions, by using the provided memory pool.  <br /></td></tr>
<tr class="memitem:a0ae43f25d543d2efa5fba4a6992e865e" id="r_a0ae43f25d543d2efa5fba4a6992e865e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ae43f25d543d2efa5fba4a6992e865e">reset_goblin</a> ()</td></tr>
<tr class="memdesc:a0ae43f25d543d2efa5fba4a6992e865e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the goblin character data by deallocating the current goblin instance and creating a new one.  <br /></td></tr>
<tr class="memitem:abc7026a0adc4d59fba01fb4d0acfbd03" id="r_abc7026a0adc4d59fba01fb4d0acfbd03"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abc7026a0adc4d59fba01fb4d0acfbd03">init_player</a> (char *name)</td></tr>
<tr class="memdesc:abc7026a0adc4d59fba01fb4d0acfbd03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the player character with default abilities and items.  <br /></td></tr>
<tr class="memitem:a6f63aa6e155b314929b60f9b57c0a988" id="r_a6f63aa6e155b314929b60f9b57c0a988"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6f63aa6e155b314929b60f9b57c0a988">reset_player</a> ()</td></tr>
<tr class="memdesc:a6f63aa6e155b314929b60f9b57c0a988"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the player character to its initial state, clearing all abilities, items, and stats.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-var-members" class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a86fda8be60af76230375ec70e9e76260" id="r_a86fda8be60af76230375ec70e9e76260"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structability__table__t.html">ability_table_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a86fda8be60af76230375ec70e9e76260">ability_table</a></td></tr>
<tr class="memitem:a4016d531529ccc5cbdf836fd035baaa5" id="r_a4016d531529ccc5cbdf836fd035baaa5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpotion__table__t.html">potion_table_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4016d531529ccc5cbdf836fd035baaa5">potion_table</a></td></tr>
<tr class="memitem:a19c1c03c9ec6672826c2f9dc35a79cf8" id="r_a19c1c03c9ec6672826c2f9dc35a79cf8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structgear__table__t.html">gear_table_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a19c1c03c9ec6672826c2f9dc35a79cf8">gear_table</a></td></tr>
<tr class="memitem:a92893c24bb6a4e0637cf2f4162e17040" id="r_a92893c24bb6a4e0637cf2f4162e17040"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcharacter__t.html">character_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a92893c24bb6a4e0637cf2f4162e17040">goblin</a></td></tr>
<tr class="memitem:ae337ca840cc0321ce2538ec80cec3a1a" id="r_ae337ca840cc0321ce2538ec80cec3a1a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcharacter__t.html">character_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae337ca840cc0321ce2538ec80cec3a1a">player</a></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation for game_data. </p>

<p class="definition">Definition in file <a class="el" href="game__data_8c_source.html">game_data.c</a>.</p>
</div><a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="ab2169a70baa362c11da5df787aa51e60" name="ab2169a70baa362c11da5df787aa51e60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2169a70baa362c11da5df787aa51e60">&#9670;&#160;</a></span>free_game_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int free_game_data </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees game-related data structures and resources, such as ability tables, characters, and potions, by using the provided memory pool. </p>
<dl class="section return"><dt>Returns</dt><dd>0 if all resources are successfully freed. </dd></dl>

<p class="definition">Definition at line <a class="el" href="game__data_8c_source.html#l00037">37</a> of file <a class="el" href="game__data_8c_source.html">game_data.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   37</span>                     {</div>
<div class="line"><span class="lineno">   38</span>    <a class="code hl_function" href="ability_8c.html#aa23c1120061449449c0eed4b93ddbd7d">free_ability_table</a>(<a class="code hl_variable" href="common_8c.html#aa6cf31d02a8bab4aae26726869596f6d">main_memory_pool</a>, ability_table);</div>
<div class="line"><span class="lineno">   39</span>    <a class="code hl_function" href="potion_8c.html#abbaf98e9e4045fe9ab84a23ebc9ce366">free_potion_table</a>(<a class="code hl_variable" href="common_8c.html#aa6cf31d02a8bab4aae26726869596f6d">main_memory_pool</a>, potion_table);</div>
<div class="line"><span class="lineno">   40</span>    <a class="code hl_function" href="gear_8c.html#a0c01826fef93a02232f8e89733fbf35f">free_gear_table</a>(<a class="code hl_variable" href="common_8c.html#aa6cf31d02a8bab4aae26726869596f6d">main_memory_pool</a>, gear_table);</div>
<div class="line"><span class="lineno">   41</span>    <a class="code hl_function" href="character_8c.html#a77ef40fdd4f884f5818d81a18d544460">free_character</a>(<a class="code hl_variable" href="common_8c.html#aa6cf31d02a8bab4aae26726869596f6d">main_memory_pool</a>, player);</div>
<div class="line"><span class="lineno">   42</span>    <a class="code hl_function" href="character_8c.html#a77ef40fdd4f884f5818d81a18d544460">free_character</a>(<a class="code hl_variable" href="common_8c.html#aa6cf31d02a8bab4aae26726869596f6d">main_memory_pool</a>, goblin);</div>
<div class="line"><span class="lineno">   43</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   44</span>}</div>
<div class="ttc" id="aability_8c_html_aa23c1120061449449c0eed4b93ddbd7d"><div class="ttname"><a href="ability_8c.html#aa23c1120061449449c0eed4b93ddbd7d">free_ability_table</a></div><div class="ttdeci">void free_ability_table(memory_pool_t *memory_pool, ability_table_t *table)</div><div class="ttdoc">Free the ability table, deallocates memory in the memory pool.</div><div class="ttdef"><b>Definition</b> <a href="ability_8c_source.html#l00045">ability.c:45</a></div></div>
<div class="ttc" id="acharacter_8c_html_a77ef40fdd4f884f5818d81a18d544460"><div class="ttname"><a href="character_8c.html#a77ef40fdd4f884f5818d81a18d544460">free_character</a></div><div class="ttdeci">void free_character(memory_pool_t *memory_pool, character_t *character)</div><div class="ttdoc">Frees the memory allocated for a character.</div><div class="ttdef"><b>Definition</b> <a href="character_8c_source.html#l00060">character.c:60</a></div></div>
<div class="ttc" id="acommon_8c_html_aa6cf31d02a8bab4aae26726869596f6d"><div class="ttname"><a href="common_8c.html#aa6cf31d02a8bab4aae26726869596f6d">main_memory_pool</a></div><div class="ttdeci">memory_pool_t * main_memory_pool</div><div class="ttdoc">Global memory pool for the application.</div><div class="ttdef"><b>Definition</b> <a href="common_8c_source.html#l00007">common.c:7</a></div></div>
<div class="ttc" id="agear_8c_html_a0c01826fef93a02232f8e89733fbf35f"><div class="ttname"><a href="gear_8c.html#a0c01826fef93a02232f8e89733fbf35f">free_gear_table</a></div><div class="ttdeci">void free_gear_table(memory_pool_t *memory_pool, gear_table_t *table)</div><div class="ttdoc">Frees the memory allocated for a gear table.</div><div class="ttdef"><b>Definition</b> <a href="gear_8c_source.html#l00074">gear.c:74</a></div></div>
<div class="ttc" id="apotion_8c_html_abbaf98e9e4045fe9ab84a23ebc9ce366"><div class="ttname"><a href="potion_8c.html#abbaf98e9e4045fe9ab84a23ebc9ce366">free_potion_table</a></div><div class="ttdeci">void free_potion_table(memory_pool_t *memory_pool, potion_table_t *table)</div><div class="ttdoc">Frees the memory allocated for a potion table.</div><div class="ttdef"><b>Definition</b> <a href="potion_8c_source.html#l00053">potion.c:53</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acf51ee7fcee6655d62576a4c3338122c" name="acf51ee7fcee6655d62576a4c3338122c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf51ee7fcee6655d62576a4c3338122c">&#9670;&#160;</a></span>init_game_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int init_game_data </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes game data for the application. </p>
<p>This function sets up the game data structures, including the ability table, potion table, gear table, and player character. It also initializes the goblin character and adds potions to the player.</p>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, 1 if initialization failed. </dd></dl>

<p class="definition">Definition at line <a class="el" href="game__data_8c_source.html#l00023">23</a> of file <a class="el" href="game__data_8c_source.html">game_data.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   23</span>                     {</div>
<div class="line"><span class="lineno">   24</span>    ability_table = <a class="code hl_function" href="ability_8c.html#ab7a141920ca0b319993d2a758043f43a">init_ability_table</a>(<a class="code hl_variable" href="common_8c.html#aa6cf31d02a8bab4aae26726869596f6d">main_memory_pool</a>, &amp;db_connection);</div>
<div class="line"><span class="lineno">   25</span>    potion_table = <a class="code hl_function" href="potion_8c.html#a63735ba539253270d0300d881921df2f">init_potion_table</a>(<a class="code hl_variable" href="common_8c.html#aa6cf31d02a8bab4aae26726869596f6d">main_memory_pool</a>, &amp;db_connection);</div>
<div class="line"><span class="lineno">   26</span>    gear_table = <a class="code hl_function" href="gear_8c.html#a8692ae861ae780f3af5db9d58fb9be00">init_gear_table</a>(<a class="code hl_variable" href="common_8c.html#aa6cf31d02a8bab4aae26726869596f6d">main_memory_pool</a>, &amp;db_connection, ability_table);</div>
<div class="line"><span class="lineno">   27</span>    player = <a class="code hl_function" href="player_8c.html#a635592dee150d6e5e10e37074c77925c">create_new_player</a>(<a class="code hl_variable" href="common_8c.html#aa6cf31d02a8bab4aae26726869596f6d">main_memory_pool</a>);</div>
<div class="line"><span class="lineno">   28</span>    <a class="code hl_function" href="#a0ae43f25d543d2efa5fba4a6992e865e">reset_goblin</a>();</div>
<div class="line"><span class="lineno">   29</span> </div>
<div class="line"><span class="lineno">   30</span>    <span class="keywordflow">if</span> (ability_table == NULL || potion_table == NULL || gear_table == NULL || player == NULL) <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">   31</span> </div>
<div class="line"><span class="lineno">   32</span>    <a class="code hl_function" href="character_8c.html#a54c2a5ff451efcd844bcdc22d912d7e2">add_potion</a>(goblin, &amp;potion_table-&gt;potions[HEALING]);</div>
<div class="line"><span class="lineno">   33</span> </div>
<div class="line"><span class="lineno">   34</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   35</span>}</div>
<div class="ttc" id="aability_8c_html_ab7a141920ca0b319993d2a758043f43a"><div class="ttname"><a href="ability_8c.html#ab7a141920ca0b319993d2a758043f43a">init_ability_table</a></div><div class="ttdeci">ability_table_t * init_ability_table(memory_pool_t *memory_pool, const db_connection_t *db_connection)</div><div class="ttdoc">Initialize the ability table, allocates memory and returns the pointer to the table.</div><div class="ttdef"><b>Definition</b> <a href="ability_8c_source.html#l00016">ability.c:16</a></div></div>
<div class="ttc" id="acharacter_8c_html_a54c2a5ff451efcd844bcdc22d912d7e2"><div class="ttname"><a href="character_8c.html#a54c2a5ff451efcd844bcdc22d912d7e2">add_potion</a></div><div class="ttdeci">void add_potion(character_t *character, potion_t *potion)</div><div class="ttdoc">Adds a potion to a character&#39;s inventory.</div><div class="ttdef"><b>Definition</b> <a href="character_8c_source.html#l00242">character.c:242</a></div></div>
<div class="ttc" id="agame__data_8c_html_a0ae43f25d543d2efa5fba4a6992e865e"><div class="ttname"><a href="#a0ae43f25d543d2efa5fba4a6992e865e">reset_goblin</a></div><div class="ttdeci">int reset_goblin()</div><div class="ttdoc">Resets the goblin character data by deallocating the current goblin instance and creating a new one.</div><div class="ttdef"><b>Definition</b> <a href="game__data_8c_source.html#l00046">game_data.c:46</a></div></div>
<div class="ttc" id="agear_8c_html_a8692ae861ae780f3af5db9d58fb9be00"><div class="ttname"><a href="gear_8c.html#a8692ae861ae780f3af5db9d58fb9be00">init_gear_table</a></div><div class="ttdeci">gear_table_t * init_gear_table(memory_pool_t *memory_pool, const db_connection_t *db_connection, ability_table_t *ability_table)</div><div class="ttdoc">Initializes a gear table.</div><div class="ttdef"><b>Definition</b> <a href="gear_8c_source.html#l00045">gear.c:45</a></div></div>
<div class="ttc" id="aplayer_8c_html_a635592dee150d6e5e10e37074c77925c"><div class="ttname"><a href="player_8c.html#a635592dee150d6e5e10e37074c77925c">create_new_player</a></div><div class="ttdeci">character_t * create_new_player(memory_pool_t *memory_pool)</div><div class="ttdoc">Creates and initializes a new player character.</div><div class="ttdef"><b>Definition</b> <a href="player_8c_source.html#l00008">player.c:8</a></div></div>
<div class="ttc" id="apotion_8c_html_a63735ba539253270d0300d881921df2f"><div class="ttname"><a href="potion_8c.html#a63735ba539253270d0300d881921df2f">init_potion_table</a></div><div class="ttdeci">potion_table_t * init_potion_table(memory_pool_t *memory_pool, const db_connection_t *db_connection)</div><div class="ttdoc">initializes a potion table with potions from the database</div><div class="ttdef"><b>Definition</b> <a href="potion_8c_source.html#l00020">potion.c:20</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abc7026a0adc4d59fba01fb4d0acfbd03" name="abc7026a0adc4d59fba01fb4d0acfbd03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc7026a0adc4d59fba01fb4d0acfbd03">&#9670;&#160;</a></span>init_player()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int init_player </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>name</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the player character with default abilities and items. </p>
<p>This function sets up the player with a base attack ability, adds default potions, and equips a starting piece of gear. It is used to prepare the player only for a new game. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of the player character.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, 1 if failed </dd></dl>

<p class="definition">Definition at line <a class="el" href="game__data_8c_source.html#l00057">57</a> of file <a class="el" href="game__data_8c_source.html">game_data.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   57</span>                            {</div>
<div class="line"><span class="lineno">   58</span>    <a class="code hl_function" href="character_8c.html#a77ef40fdd4f884f5818d81a18d544460">free_character</a>(<a class="code hl_variable" href="common_8c.html#aa6cf31d02a8bab4aae26726869596f6d">main_memory_pool</a>, player);</div>
<div class="line"><span class="lineno">   59</span>    player = <a class="code hl_function" href="player_8c.html#a635592dee150d6e5e10e37074c77925c">create_new_player</a>(<a class="code hl_variable" href="common_8c.html#aa6cf31d02a8bab4aae26726869596f6d">main_memory_pool</a>);</div>
<div class="line"><span class="lineno">   60</span>    <span class="keywordflow">if</span> (player == NULL) {</div>
<div class="line"><span class="lineno">   61</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">   62</span>    }</div>
<div class="line"><span class="lineno">   63</span>    player-&gt;base_attack = &amp;ability_table-&gt;abilities[PUNCH];</div>
<div class="line"><span class="lineno">   64</span>    <a class="code hl_function" href="character_8c.html#ac1e7edc495be29bb8233cb226a2c2b15">add_ability</a>(player, player-&gt;base_attack);</div>
<div class="line"><span class="lineno">   65</span>    <a class="code hl_function" href="character_8c.html#a54c2a5ff451efcd844bcdc22d912d7e2">add_potion</a>(player, &amp;potion_table-&gt;potions[HEALING]);</div>
<div class="line"><span class="lineno">   66</span>    <a class="code hl_function" href="character_8c.html#a54c2a5ff451efcd844bcdc22d912d7e2">add_potion</a>(player, &amp;potion_table-&gt;potions[MANA]);</div>
<div class="line"><span class="lineno">   67</span>    <a class="code hl_function" href="character_8c.html#a54c2a5ff451efcd844bcdc22d912d7e2">add_potion</a>(player, &amp;potion_table-&gt;potions[STAMINA]);</div>
<div class="line"><span class="lineno">   68</span>    <a class="code hl_function" href="character_8c.html#a3176d1d1f62a7fc8ceabef4df6a1062c">equip_gear</a>(player, gear_table-&gt;gears[ARMING_SWORD]);</div>
<div class="line"><span class="lineno">   69</span>    <span class="keywordflow">if</span> (name != NULL) {</div>
<div class="line"><span class="lineno">   70</span>        snprintf(player-&gt;name, <span class="keyword">sizeof</span>(player-&gt;name), <span class="stringliteral">&quot;%s&quot;</span>, name);</div>
<div class="line"><span class="lineno">   71</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   72</span>        snprintf(player-&gt;name, <span class="keyword">sizeof</span>(player-&gt;name), <span class="stringliteral">&quot;Hero&quot;</span>);</div>
<div class="line"><span class="lineno">   73</span>    }</div>
<div class="line"><span class="lineno">   74</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   75</span>}</div>
<div class="ttc" id="acharacter_8c_html_a3176d1d1f62a7fc8ceabef4df6a1062c"><div class="ttname"><a href="character_8c.html#a3176d1d1f62a7fc8ceabef4df6a1062c">equip_gear</a></div><div class="ttdeci">void equip_gear(character_t *character, gear_t *gear)</div><div class="ttdoc">Equips a gear item to a character.</div><div class="ttdef"><b>Definition</b> <a href="character_8c_source.html#l00272">character.c:272</a></div></div>
<div class="ttc" id="acharacter_8c_html_ac1e7edc495be29bb8233cb226a2c2b15"><div class="ttname"><a href="character_8c.html#ac1e7edc495be29bb8233cb226a2c2b15">add_ability</a></div><div class="ttdeci">void add_ability(character_t *character, ability_t *ability)</div><div class="ttdoc">Adds an ability to a character.</div><div class="ttdef"><b>Definition</b> <a href="character_8c_source.html#l00127">character.c:127</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0ae43f25d543d2efa5fba4a6992e865e" name="a0ae43f25d543d2efa5fba4a6992e865e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ae43f25d543d2efa5fba4a6992e865e">&#9670;&#160;</a></span>reset_goblin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int reset_goblin </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the goblin character data by deallocating the current goblin instance and creating a new one. </p>
<p>The new goblin is initialized and assigned with the "BITE" ability.</p>
<dl class="section return"><dt>Returns</dt><dd>0 if the operation is successful, 1 if it fails due to invalid input or memory allocation issues. </dd></dl>

<p class="definition">Definition at line <a class="el" href="game__data_8c_source.html#l00046">46</a> of file <a class="el" href="game__data_8c_source.html">game_data.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   46</span>                   {</div>
<div class="line"><span class="lineno">   47</span>    <a class="code hl_function" href="memory__management_8c.html#af72f6fb9c867ee59c91532a9022e322e">memory_pool_free</a>(<a class="code hl_variable" href="common_8c.html#aa6cf31d02a8bab4aae26726869596f6d">main_memory_pool</a>, goblin);</div>
<div class="line"><span class="lineno">   48</span>    goblin = <a class="code hl_function" href="monster_8c.html#a87b9e3e8f61fce3027c7bbb280251702">create_new_goblin</a>(<a class="code hl_variable" href="common_8c.html#aa6cf31d02a8bab4aae26726869596f6d">main_memory_pool</a>);</div>
<div class="line"><span class="lineno">   49</span>    <span class="keywordflow">if</span> (goblin == NULL) {</div>
<div class="line"><span class="lineno">   50</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">   51</span>    }</div>
<div class="line"><span class="lineno">   52</span>    <a class="code hl_function" href="character_8c.html#ac1e7edc495be29bb8233cb226a2c2b15">add_ability</a>(goblin, &amp;ability_table-&gt;abilities[BITE]);</div>
<div class="line"><span class="lineno">   53</span>    <a class="code hl_function" href="loot__generation_8c.html#a2427aded795514fed55e92ac50312215">generate_loot</a>(goblin, gear_table, potion_table, 1);</div>
<div class="line"><span class="lineno">   54</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   55</span>}</div>
<div class="ttc" id="aloot__generation_8c_html_a2427aded795514fed55e92ac50312215"><div class="ttname"><a href="loot__generation_8c.html#a2427aded795514fed55e92ac50312215">generate_loot</a></div><div class="ttdeci">void generate_loot(character_t *c, gear_table_t *gear_table, potion_table_t *potion_table, int rolls)</div><div class="ttdoc">Generates loot for a character by randomly selecting a number of gear and potions.</div><div class="ttdef"><b>Definition</b> <a href="loot__generation_8c_source.html#l00010">loot_generation.c:10</a></div></div>
<div class="ttc" id="amemory__management_8c_html_af72f6fb9c867ee59c91532a9022e322e"><div class="ttname"><a href="memory__management_8c.html#af72f6fb9c867ee59c91532a9022e322e">memory_pool_free</a></div><div class="ttdeci">void memory_pool_free(memory_pool_t *pool, void *ptr)</div><div class="ttdoc">Sets the given data pointer to not active in the given memory pool.</div><div class="ttdef"><b>Definition</b> <a href="memory__management_8c_source.html#l00094">memory_management.c:94</a></div></div>
<div class="ttc" id="amonster_8c_html_a87b9e3e8f61fce3027c7bbb280251702"><div class="ttname"><a href="monster_8c.html#a87b9e3e8f61fce3027c7bbb280251702">create_new_goblin</a></div><div class="ttdeci">character_t * create_new_goblin(memory_pool_t *memory_pool)</div><div class="ttdoc">Creates and initializes a new goblin character.</div><div class="ttdef"><b>Definition</b> <a href="monster_8c_source.html#l00008">monster.c:8</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6f63aa6e155b314929b60f9b57c0a988" name="a6f63aa6e155b314929b60f9b57c0a988"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f63aa6e155b314929b60f9b57c0a988">&#9670;&#160;</a></span>reset_player()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int reset_player </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the player character to its initial state, clearing all abilities, items, and stats. </p>
<p>This function is used when loading a saved game.</p>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, 1 if failed </dd></dl>

<p class="definition">Definition at line <a class="el" href="game__data_8c_source.html#l00077">77</a> of file <a class="el" href="game__data_8c_source.html">game_data.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   77</span>                   {</div>
<div class="line"><span class="lineno">   78</span>    <a class="code hl_function" href="character_8c.html#a77ef40fdd4f884f5818d81a18d544460">free_character</a>(<a class="code hl_variable" href="common_8c.html#aa6cf31d02a8bab4aae26726869596f6d">main_memory_pool</a>, player);</div>
<div class="line"><span class="lineno">   79</span>    player = <a class="code hl_function" href="player_8c.html#a635592dee150d6e5e10e37074c77925c">create_new_player</a>(<a class="code hl_variable" href="common_8c.html#aa6cf31d02a8bab4aae26726869596f6d">main_memory_pool</a>);</div>
<div class="line"><span class="lineno">   80</span>    <span class="keywordflow">if</span> (player == NULL) {</div>
<div class="line"><span class="lineno">   81</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">   82</span>    }</div>
<div class="line"><span class="lineno">   83</span>    player-&gt;base_attack = &amp;ability_table-&gt;abilities[PUNCH];</div>
<div class="line"><span class="lineno">   84</span>    <a class="code hl_function" href="character_8c.html#ac1e7edc495be29bb8233cb226a2c2b15">add_ability</a>(player, player-&gt;base_attack);</div>
<div class="line"><span class="lineno">   85</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   86</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a name="doc-var-members" id="doc-var-members"></a><h2 id="header-doc-var-members" class="groupheader">Variable Documentation</h2>
<a id="a86fda8be60af76230375ec70e9e76260" name="a86fda8be60af76230375ec70e9e76260"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86fda8be60af76230375ec70e9e76260">&#9670;&#160;</a></span>ability_table</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structability__table__t.html">ability_table_t</a>* ability_table</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="game__data_8c_source.html#l00017">17</a> of file <a class="el" href="game__data_8c_source.html">game_data.c</a>.</p>

</div>
</div>
<a id="a19c1c03c9ec6672826c2f9dc35a79cf8" name="a19c1c03c9ec6672826c2f9dc35a79cf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19c1c03c9ec6672826c2f9dc35a79cf8">&#9670;&#160;</a></span>gear_table</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structgear__table__t.html">gear_table_t</a>* gear_table</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="game__data_8c_source.html#l00019">19</a> of file <a class="el" href="game__data_8c_source.html">game_data.c</a>.</p>

</div>
</div>
<a id="a92893c24bb6a4e0637cf2f4162e17040" name="a92893c24bb6a4e0637cf2f4162e17040"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92893c24bb6a4e0637cf2f4162e17040">&#9670;&#160;</a></span>goblin</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcharacter__t.html">character_t</a>* goblin</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="game__data_8c_source.html#l00020">20</a> of file <a class="el" href="game__data_8c_source.html">game_data.c</a>.</p>

</div>
</div>
<a id="ae337ca840cc0321ce2538ec80cec3a1a" name="ae337ca840cc0321ce2538ec80cec3a1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae337ca840cc0321ce2538ec80cec3a1a">&#9670;&#160;</a></span>player</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcharacter__t.html">character_t</a>* player</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="game__data_8c_source.html#l00021">21</a> of file <a class="el" href="game__data_8c_source.html">game_data.c</a>.</p>

</div>
</div>
<a id="a4016d531529ccc5cbdf836fd035baaa5" name="a4016d531529ccc5cbdf836fd035baaa5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4016d531529ccc5cbdf836fd035baaa5">&#9670;&#160;</a></span>potion_table</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpotion__table__t.html">potion_table_t</a>* potion_table</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="game__data_8c_source.html#l00018">18</a> of file <a class="el" href="game__data_8c_source.html">game_data.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a href="game__data_8c.html">game_data.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
